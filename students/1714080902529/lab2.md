# 实验二：用例建模

## 一、实验目标

1.学习UML及用例的基本概念  
2.确定个人建模选题  
3.学习用例建模  
4.学习用例规约的编写  

## 二、实验内容

1.细化功能需求  
2.画出用例图  
3.编写用例规约  

## 三、实验步骤

1.确定选题为优惠劵发放系统，发布在Issues（#329）  
2.确定系统背景  
优惠券发放系统为某一个线上销售平台的子系统，用户使用该销售平台的账户登陆优惠券发放系统。客户在系统中成功领取优惠券后，客户使用领取优惠券的账户登陆销售平台可以查看已领取的优惠券和使用优惠券。  
3.确定参与者（用户）  
（1）商家  
（2）客户  
4.确定用例（功能需求）  
（1）发放优惠券  
　　商家登陆系统进入首页后，点击发放优惠券，在新增优惠券信息页面中按要求输入信息，点击确认发放。若无误即可在该系统中向客户发放一定数量的优惠券，等待客户领取。    
（2）领取优惠券  
　　客户登陆系统进入首页后，点击领取优惠券，在显示所有已发放优惠券信息的页面中，点击某一优惠券的领取链接，若该优惠券现存数量大于0并且客户未曾领取过该券，客户可以成功领取该券。  
5.根据确定的参与者和用例，绘制用例图  
6.编写用例规约  

## 四、实验结果

优惠劵发放系统的用例图如下所示：  
![用例图](./lab2_UseCaseDiagram.jpg)  
图1：优惠劵发放系统的用例图

## 表1：发放优惠券用例规约

用例编号  | UC01 | 备注  
-|:-|-  
用例名称  | 发放优惠券  |   
前置条件  | 商家成功登陆系统，进入系统首页     |    
后置条件  |      |    
基本流程  | 1.商家点击发放优惠券按钮；  |*用例执行成功的步骤*    
~| 2.系统显示新增优惠券的信息填写页面；  |   
~| 3.商家按规定格式输入优惠券信息，点击确认发放；   |   
~| 4.系统检查到信息的输入格式正确，保存优惠券信息；   |   
~| 5.系统提示“优惠券发放成功”。   |  
扩展流程  | 4.1系统检查到信息的输入格式有误，提示“发放失败，信息的输入格式有误”。   |*用例执行失败*      

## 表2：领取优惠券用例规约  

用例编号  | UC02 | 备注  
-|:-|-  
用例名称  | 领取优惠券  |   
前置条件  | 客户成功登陆系统，进入系统首页     |    
后置条件  |      |    
基本流程  | 1.客户点击领取优惠券按钮；  |*用例执行成功的步骤*    
~| 2.系统显示所有已发放优惠券的基本信息页面；  |   
~| 3.客户点击某一优惠券的领取链接；   |   
~| 4.系统查询到该券的数量大于0并且客户的领券记录中不存在该券的领取记录，新建一条领券记录并保存，更新优惠券数量；   |   
~| 5.系统提示“优惠券已发放至账户，使用当前账户登陆某某平台即可查看以及使用”。   |  
扩展流程  | 4.1（该券被其他客户抢先领取）系统查询到数量为0，提示“该券已被领取完”。   |*用例执行失败*     
~| 4.2系统查询到存在该券的领取记录，提示“您的账户已领取过该券”。  |   
